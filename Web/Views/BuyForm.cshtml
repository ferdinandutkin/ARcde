@using Web.Mediator.Arguments
@model Web.Models.BuyFormModel

@using (Html.BeginForm("Buy", "Home", FormMethod.Post, new {@id ="buy"}))
{
    <fieldset>
        <legend>
            Покупка
        </legend>
          
       
        @Html.Label(nameof(BuyRequestArguments.Mark), "Введите марку")

        @Html.DropDownList(nameof(BuyRequestArguments.Mark), Model
            .Marks
            .Select(mark => new SelectListItem(mark, mark)))
        <br/>

        @Html.Label(nameof(BuyRequestArguments.Model), "Введите модель:")
        @Html.DropDownList(nameof(BuyRequestArguments.Model), Model
            .Models
            .Select(model => new SelectListItem(model ,model)))

        <br />

        @Html.Label(nameof(BuyRequestArguments.Count), "Количество:")
        @Html.TextBox(nameof(BuyRequestArguments.Count), "1", new {@type = "number", @min = 0, @max = Model.MaxCount})

        <br />
        <input type="submit" value="Отправить"/>
    </fieldset>


}


<script>
    document.addEventListener('DOMContentLoaded',
        () => {
            attach_handler(document.getElementById("buy"));
        });
  
</script>